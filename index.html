<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Cockroach Killer</title>
	
	<script
		src="https://code.jquery.com/jquery-3.3.1.min.js"
		integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
		crossorigin="anonymous">
	</script>

	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<h1></h1>
	<div id='roach'><img src="animated-cockroach-image-0010.gif" id="roachImage"></div>
	

	<script type="text/javascript">
		alert("Welcome to Cockroach Killer!!"); //welcome message
		
		var difficulty = prompt("Please enter difficulty, 1-very easy, 2-easy, 3-medium, 4-hard, 5-very hard"); //difficulty input
		
		switch(difficulty){
			case "1":
				var difficultySize = 100;
				var difficultySpeed = 0.2;
				break;
			case "2":
				var difficultySize = 85;
				var difficultySpeed = 0.4;
				break;
			case "3":
				var difficultySize = 70;
				var difficultySpeed = 0.6;
				break;
			case "4":
				var difficultySize = 60;
				var difficultySpeed = 0.8;
				break;
			case "5":
				var difficultySize = 50;
				var difficultySpeed = 1.0;
				break;
			default:
				var difficultySize = 70;
				var difficultySpeed = 0.6;
		}


		$(document).ready(function(){

		$('#roach').height(difficultySize);
		$('#roach').width(difficultySize);
		
    	animateDiv();
    	
    	
    	
    	$('#roach').click(function(){
			$('#roachImage').attr('src','kisspng-cockroach-royalty-free-clip-art-cockroach-vector-design-creative-5a7b6eed25f339.0338366715180387651555.png'); //change image to dead roach

			$('#roach').stop(true,false); //stop animation and queue
		})
    
		});


		


		function makeNewPosition(){
		    // Get viewport dimensions (remove the dimension of the div)
		    var h = $(window).height() - difficultySize;
		    var w = $(window).width() - difficultySize;
		    
		    var nh = Math.floor(Math.random() * h); //generate new random coordinates for height
		    var nw = Math.floor(Math.random() * w);	//generate new random coordinates for width
		    
		    return [nh,nw];    //new coordinates
    
		}

		function animateDiv(){
    		var newq = makeNewPosition();
    	    var oldq = $('#roach').offset();
    		var speed = calcSpeed([oldq.top, oldq.left], newq);

    		$('#roach').animate({ top: newq[0], left: newq[1] }, speed, function(){
      		animateDiv();
			});
    
		};

		function calcSpeed(prev, next) {   
			var x = Math.abs(prev[1] - next[1]);
			var y = Math.abs(prev[0] - next[0]);

			var greatest = x > y ? x : y;
    
			var speedModifier = difficultySpeed;
			
			var speed = Math.ceil(greatest/speedModifier);

			return speed;

		}

	</script>
</body>
</html>